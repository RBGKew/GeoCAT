(function() {var g=null,l=Math.PI*12756274/256,n=Math.PI*12756274/2,o=/MSIE 6/i.test(navigator.userAgent),p=/webkit/i.test(navigator.userAgent)?"-webkit-user-select:none;":/Gecko[\/]/i.test(navigator.userAgent)?"-moz-user-select:none;":"";function q(a,b){var e=l/Math.pow(2,b);return new google.maps.LatLng(180/Math.PI*(2*Math.atan(Math.exp(((Math.pow(2,b)-a.y)*256*e-n)/n*180*Math.PI/180))-Math.PI/2),(a.x*256*e-n)/n*180)}
function r(a,b){var e=a.lng()*n/180,c=Math.log(Math.tan((90+a.lat())*Math.PI/360))/(Math.PI/180)*n/180,d=l/Math.pow(2,b);return new google.maps.Point(Math.floor(Math.ceil((e+n)/d/256)-1),Math.pow(2,b)-1-Math.floor(Math.ceil((c+n)/d/256)-1))}function u(){this.a={};this.h=this.b=this.d=g;this.i=[g,g];this.c=[g,g];this.e=[g,g];this.g=0}function v(a,b){this.a=a;this.b=b}v.prototype.a=g;v.prototype.b=g;var w=[];
function x(a,b){var e="_"+a.g;a.g++;a.a[e]=b;a.b||google.maps.event.addListener(b.a.b,"idle",function(){for(var c=g,d=0;d<w.length;d++)if(w[d].a===this){c=w[d].b;break}c.c=[g,g];var j=this.getZoom();d=this.getBounds();var k=r(d.getNorthEast(),j),f=r(d.getSouthWest(),j);d=new google.maps.LatLngBounds(q(new google.maps.Point(f.x,f.y),j),q(new google.maps.Point(k.x,k.y),j));c.h=d;c.e=[f,k];for(var m in c.a)if(m)if(k=c.a[m].getProjection()){j=k.fromLatLngToDivPixel(d.getNorthEast());k=k.fromLatLngToDivPixel(d.getSouthWest());
c.c=[k,j]}for(m in c.a)m&&y(c.a[m])});google.maps.event.trigger(b.a.b,"idle");a.d||google.maps.event.addListener(b.a.b,"zoom_changed",function(){for(var c=g,d=0;d<w.length;d++)if(w[d].a===this){c=w[d].b;break}for(var j in c.a)j&&z(c.a[j])});return e}function A(a,b,e){this.b=this.i=g;this.g=true;this.m=this.a=this.e=g;this.h=a;this.l=b;this.k=e;this.c=100;this.f=[];this.j=this.d=g}
function B(a,b){var e=b.minZoom||1,c=19,d=g;if(b){e=b.minZoom||e;c=b.maxZoom||c;if(b.bounds)d=b.bounds}this.a=new A(d,e,c);this.a.i=a;if(b){if(b.map)this.a.b=b.map;if(b.visible)this.a.g=b.visible;if(b.mapTypes)this.a.e=b.mapTypes;if(b.percentOpacity)this.a.c=b.percentOpacity}this.a.b&&this.setMap(this.a.b)}B.prototype=new google.maps.OverlayView;B.prototype.b=g;B.prototype.a=g;
function z(a){if(a.a.a){for(;a.a.a.childNodes.length>0;){o&&a.a.a.childNodes[0].removeChild(a.a.a.childNodes[0].childNodes[0]);a.a.a.removeChild(a.a.a.childNodes[0])}a.a.f=[];a.a.d=g}}B.prototype.draw=function(){};
function y(a){var b=a.a.b.getMapTypeId();if(a.a.e){for(var e=false,c=0;c<a.a.e.length;c++)if(a.a.e[c]==b){e=true;break}if(!e){z(a);return}}if(a.a.a){b=a.a.b.getZoom();var d=a.b.h;if(d){e=a.b.e[1];c=a.b.e[0];var j=e,k=c;if(a.a.h){j=r(a.a.h.getNorthEast(),b);k=r(a.a.h.getSouthWest(),b)}var f=new google.maps.LatLngBounds(q(new google.maps.Point(k.x,k.y),b),q(new google.maps.Point(j.x,j.y),b));if(b<a.a.l||b>a.a.k||!d.intersects(f))z(a);else{if(a.a.d&&!d.intersects(a.a.d))z(a);else if(a.a.d){var m=r(d.getNorthEast(),
b),h=r(d.getSouthWest(),b);for(f=m.x;f<=h.x;f++)for(var i=h.y;i<=m.y;i++)if(f<e.x||f>c.x||i<c.y||i>e.y){a.a.a.removeChild(a.a.f["_"+f]["_"+i]);delete a.a.f["_"+f]["_"+i]}}a.a.d=d;d=a.b.c[1];m=a.b.c[0];for(f=c.x;f<=e.x;f++)for(i=e.y;i<=c.y;i++)if(f>=k.x&&f<=j.x&&i>=j.y&&i<=k.y&&(!a.a.f["_"+f]||!a.a.f["_"+f]["_"+i])){h=document.createElement("IMG");google.maps.event.addDomListenerOnce(h,"error",function(){this.src="http://maps.gstatic.com/intl/en_us/mapfiles/transparent.png"});google.maps.event.addDomListenerOnce(h,
"load",function(){google.maps.event.clearListeners(this,"error")});var s=a.a.i(f,i,b);h.style.cssText="position:absolute;left:"+(m.x+(f-c.x)*256)+"px;top:"+(d.y+(i-e.y)*256)+"px;width:256px;height:256px;"+p;h.alt="";if(o){var t=document.createElement("DIV");t.appendChild(h);t.style.cssText="position:absolute;left:"+(m.x+(f-c.x)*256)+"px;top:"+(d.y+(i-e.y)*256)+"px;width:256px;height:256px;";h.style.cssText="zoom:1;"+p;if(s.substr(s.length-4).toLowerCase()==".png"){h.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+
a.a.i(f,i,b)+"', sizingMethod='scale');";h.src="http://maps.gstatic.com/intl/en_us/mapfiles/transparent.png"}else h.src=s;h.width=256;h.height=256;t.style.filter=a.a.c<100?"alpha(opacity="+a.a.c+")":"";h=t}else{if(typeof a.a.a.style.filter=="string")h.style.filter=a.a.c<100?"alpha(opacity="+a.a.c+")":"";h.src=s}a.a.a.appendChild(h);a.a.f["_"+f]=a.a.f["_"+f]||[];a.a.f["_"+f]["_"+i]=h}}}}}
B.prototype.setMap=function(a){if(a==g)if(this.b){var b=this.b,e=this.a.j;if(e){b.a[e]&&delete b.a[e];e=false;for(var c in b.a)if(c){e=true;break}if(!e){b.d&&google.maps.event.removeListener(b.d);b.b&&google.maps.event.removeListener(b.b);b.b=g;b.d=g}}}google.maps.OverlayView.prototype.setMap.call(this,a)};
B.prototype.onAdd=function(){this.a.a=document.createElement("DIV");this.a.a.style.position="relative";if(!this.a.g)this.a.a.style.display="none";typeof this.a.a.style.filter!="string"&&this.c(this.a.c);this.getPanes().mapPane.appendChild(this.a.a);for(var a=0;a<w.length;a++)if(w[a].a===this.a.b){this.b=w[a].b;break}if(!this.b){this.b=new u;w.push(new v(this.a.b,this.b))}this.a.j=x(this.b,this)};B.prototype.onRemove=function(){z(this);this.a.a.parentNode.removeChild(this.a.a);this.a.a=g};
B.prototype.getVisible=function(){return this.a.g};B.prototype.setVisible=function(a){if(this.a.a)this.a.a.style.display=a?"block":"none";this.a.g=a};
B.prototype.c=function(a){if(a<0)a=0;if(a>100)a=100;this.a.c=a;if(this.a.a){var b=a/100;if(typeof this.a.a.style.filter=="string")for(b=0;b<this.a.a.childNodes.length;b++)this.a.a.childNodes[b].style.filter=a<100?"alpha(opacity="+a+");":"";else{if(typeof this.a.a.style.a=="string")this.a.a.style.a=b;if(typeof this.a.a.style.MozOpacity=="string")this.a.a.style.MozOpacity=b;if(typeof this.a.a.style.opacity=="string")this.a.a.style.opacity=b}}};B.prototype.setOpacity=B.prototype.c;
B.prototype.getOpacity=function(){return this.a.c};window.missouristate=window.missouristate||{};window.missouristate.web=window.missouristate.web||{};window.missouristate.web.TileOverlay=B;})()